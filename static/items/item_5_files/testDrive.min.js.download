"use strict";function getLocalStorageToggles(){const e="sessionToggles_"+window.DlronGlobal_DealerId;try{const t=sessionStorage.getItem(e);return JSON.parse(t)}catch(e){return console.error("Error parsing sessionStorage:",e),{}}}function additionalInfo(e){var t,n,l,o,i=null!==(n=null===(t=e.selDate)||void 0===t?void 0:t.value)&&void 0!==n?n:"",d=null!==(o=null===(l=e.selTime)||void 0===l?void 0:l.value)&&void 0!==o?o:"";if(document.getElementById("selDateAndTime")){var a=document.getElementById("selDateAndTime").value.split(" ");i=a[0],d=a[1]}let r=`Preferred Appointment Date/Time: ${i} ${d}`;const s=e.DoNotSellPersonalInfo;s&&(r+=", Do Not Sell Personal Info: "+s.checked);let c="",u=!1,m="";const v=document.getElementById("testdrive"),D=v.elements.namedItem("AltDealerId");D&&(c=D.value);const g=v.querySelector("[id^='selDealer']");if(g)if(u="ChildDealerId"==g.getAttribute("name"),u){m=g.value;let e=g.options[g.selectedIndex].text;g.value;r+=`${r.length>0?", ":""}ChildDealerName: ${e}, ChildDealerId: ${m}`}else c=g.value;return{AltDealerId:c,ChildDealerId:m,Comments:r,ApptDateTime:i+" "+d}}document.addEventListener("DOMContentLoaded",(function(){const e={leadSource:"USED"==window.vehicleType.toUpperCase()?300:155,leadType:"USED"==window.vehicleType.toUpperCase()?2:1,vehicleType:window.vehicleType||"new",additionalData:additionalInfo};window.DealeronLead.addSubmissionMethod("testdriveSubmit",e),window.DealeronLead.initialize("#testdrive","testdriveSubmit");const t=document.getElementById("txtfirst_nameTestDrive");t&&t.addEventListener("change",window.DealeronLead.begin)}));